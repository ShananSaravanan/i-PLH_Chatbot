<script>
    !(function () {
        let e = document.createElement("script"),
            t = document.head || document.getElementsByTagName("head")[0];
        (e.src = "https://cdn.jsdelivr.net/npm/rasa-webchat@1.x.x/lib/index.js"),
        (e.async = !0),
        (e.onload = () => {
            console.log("Rasa Webchat script loaded successfully."); // Log to confirm script is loaded
            window.WebChat.default(
                {
                    customData: { language: "en" },
                    initPayload: "/greet",
                    socketUrl: "http://localhost:5005",  // Use your Rasa server URL
                    socketPath: "/socket.io/",           // Ensure the path matches your Rasa setup
                    onMessage: (message) => {
                        console.log("Webchat received message:", message);  // Log received message
                    },
                },
                null
            );
        }),
        t.insertBefore(e, t.firstChild);
    })();
  </script>
  